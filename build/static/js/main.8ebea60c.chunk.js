(this["webpackJsonptwitter-app"]=this["webpackJsonptwitter-app"]||[]).push([[0],{121:function(e,t,n){e.exports=n(146)},126:function(e,t,n){},128:function(e,t,n){},139:function(e,t,n){},143:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(51),l=n.n(c),i=(n(126),n(0)),s=n.n(i),o=n(3),u=n(11),m=(n(128),Object(a.createContext)({userName:"Regina",setUserName:function(){},user:null,setUser:function(){},load:!0,setLoad:function(){},scrollState:10,setScrollState:function(){}})),f=n(23),p=n(191),d=n(192),g=n(52),h=n(48),b=n(27),v=n(112).a.initializeApp({apiKey:"AIzaSyC6uxsn4pcGdhnazNVJrK9Pf6QtNpC_vuU",authDomain:"reginar-twitter-project.firebaseapp.com",projectId:"reginar-twitter-project",storageBucket:"reginar-twitter-project.appspot.com",messagingSenderId:"372927459479",appId:"1:372927459479:web:12a1f2b4d2c2c6c9fcb9d2"}),j=Object(g.f)(v),y=Object(b.d)(),x=function(){var e=Object(o.a)(s.a.mark((function e(t){var n,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.uid){e.next=3;break}return e.abrupt("return");case 3:return a=Object(g.c)(j,"users",n),e.next=6,Object(g.d)(a);case 6:if(r=e.sent,c={},!r.exists()){e.next=12;break}c=r.data(),e.next=17;break;case 12:return console.log("No such document!"),c={uid:n,email:t.email,userName:t.email},e.next=16,Object(g.k)(Object(g.c)(j,"users",n),c);case 16:console.log("document created !");case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=n(109),E=n.n(O);var w=function(e){var t=e.onTweetSave,n=Object(a.useContext)(m).user,r=Object(a.useState)(""),c=Object(u.a)(r,2),l=c[0],i=c[1];Object(a.useEffect)(Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,x(n);case 3:e.sent;case 4:case"end":return e.stop()}}),e)}))),[n]);var f=function(){var e=Object(o.a)(s.a.mark((function e(a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={content:l,userName:n.displayName||n.email,date:E()().toISOString(),uid:n.uid},t(r),i("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"2rem, 2rem, 1rem, 2rem",width:"100%"}},a.createElement(p.a,{id:"filled-multiline-static",multiline:!0,fullWidth:!0,rows:4,placeholder:"What You Have In Mind ... ",value:l,style:{width:"600px",justifyContent:"center",alignSelf:"center",marginTop:"2rem"},onChange:function(e){i(e.target.value)}}),a.createElement(d.a,{variant:"contained",onClick:f,disabled:l.length>140,style:{display:"flex",justifyContent:"center",alignSelf:"center",width:"60px",marginLeft:"34rem",marginTop:"0.5rem"}},"Tweet"))},C=n(195);var k=function(e){var t=e.content,n=e.date,r=e.userName,c=Object(a.useContext)(m),l=c.user,i=c.setUserName;return Object(a.useEffect)(Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,x(l);case 3:e.sent,i(l.displayName);case 5:case"end":return e.stop()}}),e)}))),[]),a.createElement(a.Fragment,null,a.createElement(C.a,{elevation:2,style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"2rem",width:"600px",height:"100px"}},a.createElement("header",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"}},a.createElement("span",{style:{margin:"1rem",display:"flex",fontSize:"11px"}},r),a.createElement("span",{style:{margin:"1rem",display:"flex",fontSize:"11px"}},n)),a.createElement("span",{style:{fontSize:"13px",overflowY:"auto"}},t)))},S=n(28);function N(){return(N=Object(o.a)(s.a.mark((function e(t){var n,a,r,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(S.g)(Object(S.b)(j,"tweets"),Object(S.d)(10)),e.next=3,Object(S.c)(n);case 3:return a=e.sent,r=a.docs[a.docs.length-1],console.log("last",r),e.next=8,Object(S.g)(Object(S.b)(j,"tweets"),Object(S.h)(r),Object(S.f)("date","desc"),Object(S.d)(t));case 8:return c=e.sent,e.next=11,Object(S.c)(c);case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=function(e){return N.apply(this,arguments)},D=n(110),T=function(e){var t=e.tweetMessage,n=e.setTweetMessage,r=Object(a.useState)(10),c=Object(u.a)(r,2),l=c[0],i=c[1],m=Object(a.useState)(!1),f=Object(u.a)(m,2),p=f[0],d=f[1];var g=function(){var e=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=7;break}return t=[],e.next=4,I(l);case 4:e.sent.forEach((function(e){return t.push(e.data())})),n(t);case 7:d(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g()}),[p]),a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflowY:"scroll",maxHeight:"100vh"},onScroll:function(e){var t=e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight;console.log("string",t),t&&(i((function(e){return e+10})),d(!0),console.log("i am at the bottom"))}},t.map((function(e){return a.createElement("div",{key:Object(D.v4)()},a.createElement(k,{style:{display:"flex",justifyContent:"center",alignItems:"center"},content:e.content,userName:e.userName,date:e.date,uid:e.uid}))})))},U=n(196);var R=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useContext)(m),l=c.load,i=c.setLoad,p=c.scrollState,d=function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:r((function(e){return[t].concat(Object(f.a)(e))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function g(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("post console:",t),e.prev=1,e.next=4,Object(S.a)(Object(S.b)(j,"tweets"),t);case 4:n=e.sent,console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("err post:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){try{var e=Object(S.g)(Object(S.b)(j,"tweets"),Object(S.f)("date","desc"),Object(S.d)(p)),t=Object(S.e)(e,(function(e){return function(e){i(!1);var t=[];e.forEach((function(e){return t.push(e.data())})),r(t)}(e)}));return function(){t()}}catch(n){console.log(n)}}),[]),a.createElement(a.Fragment,null,a.createElement(w,{style:{justifyContent:"center",alignContent:"center"},onTweetSave:d}),l?a.createElement("div",{className:"spinner",style:{display:"flex",justifyContent:"center",alignItems:"center"}},a.createElement(U.a,{color:"secondary"})):a.createElement(T,{tweetMessage:n,setTweetMessage:r}))},B=n(194);var L=function(e){var t=Object(a.useContext)(m),n=t.setUserName,c=t.userName,l=t.user,i=Object(a.useState)(c),f=Object(u.a)(i,2),g=f[0],b=f[1],v=Object(a.useState)(""),j=Object(u.a)(v,2),y=j[0],x=j[1],O=Object(a.useState)(null),E=Object(u.a)(O,2),w=E[0],C=E[1];Object(a.useEffect)((function(){S()}),[y]);var k=function(e){var t=Object(h.b)(),n=Object(h.c)(t,"userImage/".concat(l.uid)),a=Object(h.d)(n,e);a.on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){var e=Object(h.a)(a.snapshot.ref);e&&x(e)}))},S=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(h.b)(),e.next=4,Object(h.a)(Object(h.c)(t,"userImage/".concat(l.uid)));case 4:(n=e.sent)&&x(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},r.a.createElement("div",{style:{width:"50%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"2rem"}},r.a.createElement("h1",null,"Pick Yourself A Groovy Username"),r.a.createElement(p.a,{fullWidth:!0,id:"outlined-name",placeholder:"Choose your user name",value:g,onChange:function(e){b(e.target.value),e.preventDefault()},InputProps:{endAdornment:r.a.createElement(B.a,{position:"end"},r.a.createElement(d.a,{variant:"contained",onClick:function(e){e.preventDefault(),n(g),b("")},style:{display:"flex",justifyContent:"center",alignSelf:"center",width:"60px"}},"Save"))}})),r.a.createElement("div",{style:{width:"50%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"2rem"}},r.a.createElement("h1",null,"Show Us Your Best You"),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},r.a.createElement("img",{src:y}),r.a.createElement("input",{accept:"image",style:{display:"flex",justifyContent:"center",alignSelf:"center"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(e){e.preventDefault(),C(e.target.files[0]),k(w)}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(d.a,{variant:"contained",onClick:k,style:{display:"flex",justifyContent:"center",alignSelf:"center",width:"70ipx"}},"Upload")))))},P=n(197),F=n(189),z=n(198),A=n(56),G=n(41),H=(n(139),n(26)),M=function(){var e=Object(H.g)();return r.a.createElement("span",{onClick:function(){var t=Object(b.d)();Object(b.h)(t),e.push("/")}},"Sign Out")};var Y=function(e){return e.auth,A.a[50],a.createElement(F.a,null,a.createElement(P.a,{position:"sticky"},a.createElement(z.a,{style:{display:"flex",justifyContent:"space-between"}},a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},a.createElement(d.a,{color:"inherit"},a.createElement(G.b,{to:"/",style:{textDecoration:"none"},className:"link"},"Log In")),a.createElement(d.a,{color:"inherit"},a.createElement(G.b,{to:"/home/",style:{textDecoration:"none"},className:"link"},"Home")),a.createElement(d.a,{color:"inherit"},a.createElement(G.b,{to:"/profile/",style:{textDecoration:"none"},className:"link"},"Profile"))),a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},a.createElement(d.a,{color:"inherit"},a.createElement(G.b,{to:"/signUp",style:{textDecoration:"none"},className:"link"},"Sign Up")),a.createElement(d.a,{color:"inherit"},a.createElement(M,null))))))},J=n(190);var W=function(){return r.a.createElement("div",null,r.a.createElement(J.a,null,r.a.createElement(Y,null)))},K=(n(143),n(79)),_=n.n(K);var Q=function(){var e=Object(a.useContext)(m).setUser,t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],l=n[1],i=Object(a.useState)(""),f=Object(u.a)(i,2),p=f[0],d=f[1],g=Object(H.g)(),h=new b.a,v=function(){var t=Object(o.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(b.e)(y,b.b);case 2:return t.prev=2,t.next=5,Object(b.f)(y,n,a).then((function(t){var n=t.user;e(n),console.log(n)}));case 5:g.push("/home"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),console.error(t.t0),alert(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}();return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"}},r.a.createElement("h1",{style:{marginTop:"3rem"}},"How would you like to log in?"),r.a.createElement("div",{className:"emailPass",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",margin:"5rem 0 2rem 0"}},r.a.createElement("div",{className:"loginContainer"},r.a.createElement("input",{type:"text",className:"loginTextBox",value:c,onChange:function(e){return l(e.target.value)},placeholder:"E-mail Address",style:{height:"2rem",width:"15rem",marginRight:"1rem"}}),r.a.createElement("input",{type:"password",className:"loginTextBox",value:p,onChange:function(e){return d(e.target.value)},placeholder:"Password",style:{height:"2rem",width:"15rem",marginRight:"1rem"}}),r.a.createElement("button",{className:"loginBtn",onClick:function(){return v(c,p)},style:{height:"2rem",marginRight:"1rem"}},"Login"))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"2rem"}},r.a.createElement(_.a,{style:{marginRight:"0.5rem",height:"2rem"}}),r.a.createElement("button",{className:"loginGoogle",onClick:function(t){t.preventDefault(),Object(b.e)(y,b.b).then(Object(o.a)(s.a.mark((function t(){var n,a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.g)(y,h);case 3:n=t.sent,a=b.a.credentialFromResult(n),a.accessToken,r=n.user,console.log(r),e(r),g.push("/home"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,12]])}))))},style:{height:"2rem",marginRight:"1rem"}},"Login with Google")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginTop:"10rem"}},r.a.createElement("div",null,"Don't have an account?"," ",r.a.createElement(G.b,{to:"/signUp",className:"loginLink"},"Sign Up"," "),"now.")))};var V=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),i=Object(u.a)(l,2),f=i[0],p=i[1],d=Object(a.useContext)(m).setUser,g=Object(H.g)(),h=new b.a,v=function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(b.g)(y,h);case 3:t=e.sent,n=b.a.credentialFromResult(t),n.accessToken,a=t.user,console.log(a),d(a),g.push("/home"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,f),e.prev=1,e.next=4,Object(b.c)(y,n,f);case 4:t=e.sent,a=t.user,d(a),g.push("/home"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%"}},r.a.createElement("h1",{style:{marginTop:"3rem"}},"Lets Be Friends!"),r.a.createElement("div",{className:"emailPass",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",margin:"5rem 0 2rem 0"}},r.a.createElement("div",{className:"loginContainer"},r.a.createElement("input",{type:"text",className:"loginTextBox",value:n,onChange:function(e){return c(e.target.value)},placeholder:"E-mail Address",style:{height:"2rem",width:"15rem",marginRight:"1rem"}}),r.a.createElement("input",{type:"password",className:"loginTextBox",value:f,onChange:function(e){return p(e.target.value)},placeholder:"Password",style:{height:"2rem",width:"15rem",marginRight:"1rem"}}),r.a.createElement("button",{className:"loginBtn",onClick:function(){return j(n,f)},style:{height:"2rem",marginRight:"1rem"}},"Sign Up"))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"2rem"}},r.a.createElement(_.a,{style:{marginRight:"0.5rem",height:"2rem"}}),r.a.createElement("button",{className:"loginGoogle",onClick:v,style:{height:"2rem",marginRight:"1rem"}},"Login with Google")))},q=n(72);var X=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),l=Object(u.a)(c,2),i=l[0],f=l[1],p=Object(a.useState)(!0),d=Object(u.a)(p,2),g=d[0],h=d[1],b=Object(a.useState)(10),v=Object(u.a)(b,2),j=v[0],O=v[1],E=Object(a.useState)("Regina"),w=Object(u.a)(E,2);w[0],w[1],Object(a.useEffect)((function(){Object(q.e)(y,function(){var e=Object(o.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,x(t);case 3:n=e.sent,C(n),e.next=8;break;case 7:console.log("user is not connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var C=function(e){f(e),r(i.displayName)};return a.createElement("div",null,a.createElement(m.Provider,{value:{userName:n,setUserName:r,user:i,setUser:f,load:g,setLoad:h,scrollState:j,setScrollState:O}},a.createElement(G.a,null,a.createElement(W,null),a.createElement(H.d,null,a.createElement(H.b,{exact:!0,path:"/"},a.createElement(Q,null)),a.createElement(H.b,{path:"/signUp"},a.createElement(V,null)),a.createElement(H.b,{path:"/home/"},!i&&a.createElement(H.a,{to:"/signUp"}),a.createElement(R,null)),a.createElement(H.b,{path:"/profile/"},!i&&a.createElement(H.a,{to:"/signUp"}),a.createElement(L,{handleUser:C}))))))},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),c(e),l(e)}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),Z()}},[[121,1,2]]]);
//# sourceMappingURL=main.8ebea60c.chunk.js.map